@use '../variables' as *;
@use '../mixins' as *;

.card {
  @include card-style;
  display: inline-block;
  margin: 0 $spacing-xs;
  position: relative;
  cursor: pointer;

  &.face-down {
    background-image: url('/cards/back_of_card-small.png');
  }

  &.dealing {
    animation: dealCard 0.8s ease-out forwards;
    opacity: 0;
    transform: translateX(-100px) rotateY(180deg);
  }

  &.flipping {
    animation: flipCard 0.5s ease-in-out;
  }

  &.win {
    animation: winPulse 1s ease-in-out;
  }

  &.bust {
    animation: bustShake 0.5s ease-in-out;
  }
}

@keyframes dealCard {
  0% {
    opacity: 0;
    transform: translateX(1.5rem) translateY(-7rem) rotateX(180deg) rotateY(180deg) scale(0.8);
  }
  100% {
    opacity: 1;
    transform: translateX(0) rotateY(0deg) scale(1);
  }
}

@keyframes flipCard {
  0% {
    transform: rotateY(0deg);
  }
  50% {
    transform: rotateY(90deg);
  }
  100% {
    transform: rotateY(0deg);
  }
}

@keyframes winPulse {
  0%, 100% {
    transform: scale(1);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
  }
  50% {
    transform: scale(1.1);
    box-shadow: 0 4px 12px rgba(40, 167, 69, 0.6);
  }
}

@keyframes bustShake {
  0%, 100% {
    transform: translateX(0);
  }
  25% {
    transform: translateX(-10px) rotate(-5deg);
  }
  75% {
    transform: translateX(10px) rotate(5deg);
  }
}

